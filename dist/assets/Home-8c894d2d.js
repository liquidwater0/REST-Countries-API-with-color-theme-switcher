import{c as m,j as e,u as v,a,r,b as N}from"./index-e009b516.js";import{f as g}from"./formatNumber-c6dbdc19.js";const b=m(e("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown"),S=m(e("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");function C({country:o}){const s=v(),{name:c="Name",population:i=0,region:d="Region",capital:l="Capital",flags:u="",cca3:t=""}=o;return a("div",{className:"card shadow",onClick:()=>s(`/country/${t}`),children:[e("div",{className:"image-container",children:e("img",{src:u.png,alt:"country flag"})}),e("div",{className:"card-body",children:a("div",{children:[e("p",{className:"card-title",children:c.common}),a("p",{children:[e("span",{className:"fw-600",children:"Population:"})," ",g(i)]}),a("p",{children:[e("span",{className:"fw-600",children:"Region:"})," ",d]}),a("p",{children:[e("span",{className:"fw-600",children:"Capital:"})," ",l[0]]})]})})]})}function w({icon:o=void 0,...s}){return a("div",{className:"text-field shadow",children:[o,e("input",{type:"text",...s})]})}function y({children:o,onOptionSelect:s}){const c=r.useRef(),[i,d]=r.useState(""),[l,u]=r.useState(!1);r.useEffect(()=>{document.addEventListener("click",({target:n})=>{n.classList.contains("selected-option")||u(!1)}),c.current.addEventListener("click",t),d(c.current.children[0].getAttribute("option-label"))},[]);function t({target:n}){if(!n.classList.contains("option"))return;const h=n.getAttribute("option-label"),f=n.getAttribute("option-value");d(h),s&&s(f)}return a("div",{className:"select","data-state":l?"open":"closed",children:[a("div",{className:"selected-option shadow",onClick:()=>u(n=>!n),children:[i,e("div",{className:"arrow",children:e(b,{})})]}),e("ul",{className:"options shadow",ref:c,children:o})]})}function p({optionLabel:o,optionValue:s,...c}){return e("li",{className:"option","option-label":o,"option-value":s,...c,children:o})}function E(){const{renderedCountries:o,regions:s,getFilteredCountries:c}=N(),[i,d]=r.useState(""),[l,u]=r.useState("");return r.useEffect(()=>{let t=setTimeout(()=>{c(i,l)},1e3);return()=>clearTimeout(t)},[i]),r.useEffect(()=>{c(i,l)},[l]),a("div",{className:"home-page container",children:[a("form",{onSubmit:t=>t.preventDefault(),className:"filter-section",children:[e(w,{placeholder:"Search for a country...",icon:e(S,{}),value:i,onChange:({target:t})=>d(t.value)}),a(y,{onOptionSelect:t=>u(t),children:[e(p,{optionLabel:"Filter by Region",optionValue:""}),s.map((t,n)=>e(p,{optionLabel:t,optionValue:t.toLowerCase()},`${t}-${n}`))]})]}),e("div",{className:"country-grid",children:o.map((t,n)=>e(C,{country:t},`${t.name.common}-${n}`))})]})}export{E as default};
