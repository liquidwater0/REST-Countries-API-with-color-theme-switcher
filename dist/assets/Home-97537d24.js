import{c as m,j as e,u as v,a as n,r as l,b as N}from"./index-44efa4ef.js";import{f as g}from"./formatNumber-c6dbdc19.js";const C=m(e("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown"),S=m(e("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");function b({country:s}){const c=v(),{name:r="Name",population:i=0,region:o="Region",capital:d="Capital",flags:u="",cca3:t=""}=s;return n("div",{className:"card shadow",onClick:()=>c(`/country/${t}`),children:[e("div",{className:"image-container",children:e("img",{src:u.png})}),e("div",{className:"card-body",children:n("div",{children:[e("p",{className:"card-title",children:r.common}),n("p",{children:[e("span",{className:"fw-600",children:"Population:"})," ",g(i)]}),n("p",{children:[e("span",{className:"fw-600",children:"Region:"})," ",o]}),n("p",{children:[e("span",{className:"fw-600",children:"Capital:"})," ",d[0]]})]})})]})}function w({icon:s=void 0,...c}){return n("div",{className:"text-field shadow",children:[s,e("input",{type:"text",...c})]})}function y({children:s,onOptionSelect:c}){const r=l.useRef(),[i,o]=l.useState(""),[d,u]=l.useState(!1);l.useEffect(()=>{document.addEventListener("click",({target:a})=>{a.classList.contains("selected-option")||u(!1)}),r.current.addEventListener("click",t),o(r.current.children[0].getAttribute("label"))},[]);function t({target:a}){if(!a.classList.contains("option"))return;const p=a.getAttribute("label"),f=a.getAttribute("value");o(p),c&&c(f)}return n("div",{className:"select","data-state":d?"open":"closed",children:[n("div",{className:"selected-option shadow",onClick:()=>u(a=>!a),children:[i,e("div",{className:"arrow",children:e(C,{})})]}),e("ul",{className:"options shadow",ref:r,children:s})]})}function h({label:s,...c}){return e("li",{className:"option",label:s,...c,children:s})}function k(){const{renderedCountries:s,regions:c,getFilteredCountries:r}=N(),[i,o]=l.useState(""),[d,u]=l.useState("");return l.useEffect(()=>{r(i,d)},[i,d]),n("div",{className:"home-page container",children:[n("div",{className:"filter-section",children:[e(w,{placeholder:"Search for a country...",icon:e(S,{}),value:i,onChange:({target:t})=>o(t.value)}),n(y,{onOptionSelect:t=>u(t),children:[e(h,{label:"Filter by Region",value:""}),c.map((t,a)=>e(h,{label:t,value:t.toLowerCase()},`${t}-${a}`))]})]}),e("div",{className:"country-grid",children:s.map((t,a)=>e(b,{country:t},`${t.name.common}-${a}`))})]})}export{k as default};
