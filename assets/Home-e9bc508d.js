import{c as h,j as e,u as v,a,r as l,b as N}from"./index-93aaa882.js";import{f as g}from"./formatNumber-c6dbdc19.js";const b=h(e("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown"),C=h(e("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");function S({country:s}){const c=v(),{name:i="Name",population:o=0,region:r="Region",capital:d="Capital",flags:u="",cca3:t=""}=s;return a("div",{className:"card shadow",onClick:()=>c(`/country/${t}`),children:[e("div",{className:"image-container",children:e("img",{src:u.png,alt:"country flag"})}),e("div",{className:"card-body",children:a("div",{children:[e("p",{className:"card-title",children:i.common}),a("p",{children:[e("span",{className:"fw-600",children:"Population:"})," ",g(o)]}),a("p",{children:[e("span",{className:"fw-600",children:"Region:"})," ",r]}),a("p",{children:[e("span",{className:"fw-600",children:"Capital:"})," ",d[0]]})]})})]})}function w({icon:s=void 0,...c}){return a("div",{className:"text-field shadow",children:[s,e("input",{type:"text",...c})]})}function y({children:s,onOptionSelect:c}){const i=l.useRef(),[o,r]=l.useState(""),[d,u]=l.useState(!1);l.useEffect(()=>{document.addEventListener("click",({target:n})=>{n.classList.contains("selected-option")||u(!1)}),i.current.addEventListener("click",t),r(i.current.children[0].getAttribute("option-label"))},[]);function t({target:n}){if(!n.classList.contains("option"))return;const m=n.getAttribute("option-label"),f=n.getAttribute("option-value");r(m),c&&c(f)}return a("div",{className:"select","data-state":d?"open":"closed",children:[a("div",{className:"selected-option shadow",onClick:()=>u(n=>!n),children:[o,e("div",{className:"arrow",children:e(b,{})})]}),e("ul",{className:"options shadow",ref:i,children:s})]})}function p({optionLabel:s,optionValue:c,...i}){return e("li",{className:"option","option-label":s,"option-value":c,...i,children:s})}function k(){const{renderedCountries:s,regions:c,getFilteredCountries:i}=N(),[o,r]=l.useState(""),[d,u]=l.useState("");return l.useEffect(()=>{i(o,d)},[o,d]),a("div",{className:"home-page container",children:[a("div",{className:"filter-section",children:[e(w,{placeholder:"Search for a country...",icon:e(C,{}),value:o,onChange:({target:t})=>r(t.value)}),a(y,{onOptionSelect:t=>u(t),children:[e(p,{optionLabel:"Filter by Region",optionValue:""}),c.map((t,n)=>e(p,{optionLabel:t,optionValue:t.toLowerCase()},`${t}-${n}`))]})]}),e("div",{className:"country-grid",children:s.map((t,n)=>e(S,{country:t},`${t.name.common}-${n}`))})]})}export{k as default};
